<nb-card class="mb-0 border-0">
    <nb-card-header class="with-background font-weight-normal text-center border-bottom">
        <span class="text-hint">{{ dateFrom | date: 'mediumDate' }}</span>
        <nb-icon icon="arrow-forward-outline" class="mx-3"></nb-icon>
        <span class="text-hint">{{ dateTo | date: 'mediumDate' }}</span>
    </nb-card-header>
    <nb-card-body class="p-0">
        @if (isBusy) {
            <div class="p-5" [nbSpinner]="true"></div>
        }

        <nb-list>
            @for (categoryBalance of categoryBalances; track $index) {
                <nb-list-item [@slideAnimation]>
                    <nb-icon
                        icon="radio-button-on"
                        class="flex-shrink-0 me-2"
                        [style.color]="categoryBalance.category.color"></nb-icon>
                    <div class="text-truncate w-100">
                        {{ categoryBalance.category?.name }}
                    </div>
                    <span>{{ categoryBalance.change | shortNumber }}</span>
                </nb-list-item>
            }
        </nb-list>
    </nb-card-body>
    <nb-card-footer
        class="with-background d-flex justify-content-between"
        [class.border-top]="categoryBalances.length > 0">
        <div class="text-center">
            <div class="text-hint mb-0">INCOME</div>
            <strong>{{ income | shortNumber }}</strong>
        </div>
        <div class="text-center">
            <div class="text-hint mb-0">EXPENSE</div>
            <strong>{{ expense | shortNumber }}</strong>
        </div>
        <div class="text-center">
            <div class="text-hint mb-0">CHANGE</div>
            <strong>{{ change | shortNumber }}</strong>
        </div>
    </nb-card-footer>
</nb-card>
