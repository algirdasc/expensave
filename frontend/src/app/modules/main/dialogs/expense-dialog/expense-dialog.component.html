<form #expenseForm="ngForm" (ngSubmit)="onSubmit()" autocomplete="off">
    <nb-card [nbSpinner]="isBusy" class="dialog">
        <nb-card-body class="p-0">
            <nb-tabset fullWidth>
                <nb-tab tabTitle="Event" class="p-0" *ngIf="!expense.id">
                    <app-expense [expense]="expense" *nbTabContent></app-expense>
                </nb-tab>
                <nb-tab tabTitle="Balance" class="p-0" *ngIf="!expense.id">
                    <app-expense-balance-update [expense]="expense" *nbTabContent></app-expense-balance-update>
                </nb-tab>
                <nb-tab tabTitle="Transfer" class="p-0" *ngIf="!expense.id">
                    <app-expense-transfer [expense]="expense" *nbTabContent></app-expense-transfer>
                </nb-tab>
            </nb-tabset>
        </nb-card-body>

        <nb-card-footer>
            <div class="d-flex flex-row-reverse justify-content-between">
                <button nbButton type="submit" status="primary" [disabled]="isBusy || !expenseForm.valid" tabIndex="3">
                    <nb-icon icon="save-outline"></nb-icon>
                    Save
                </button>

                <button nbButton type="button" ghost status="danger" *ngIf="expense.id" (click)="deleteExpense()">
                    <nb-icon icon="trash-2-outline"></nb-icon>
                </button>
            </div>
        </nb-card-footer>
    </nb-card>
</form>
